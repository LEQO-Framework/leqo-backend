insert_request: |
  {
    "inserts": [
      {
        "node": { "id": "any-id", "type": "encode", "encoding": "amplitude" },
        "implementation": "OPENQASM 3.0;\ninclude \"stdgates.inc\";\n@leqo.input 0\nint[2] val;\nqubit[3] q;\nx q[0];\n@leqo.output 0\nlet out = q;",
        "metadata": { "width": 3, "depth": null }
      },
      {
        "node": { "id": "any-id", "type": "encode", "encoding": "amplitude" },
        "implementation": "OPENQASM 3.0;\ninclude \"stdgates.inc\";\n@leqo.input 0\nint[1] val;\nqubit[2] q;\nx q[0];\n@leqo.output 0\nlet out = q;",
        "metadata": { "width": 2, "depth": null }
      },
      {
        "node": { "id": "any-id", "type": "operator", "operator": "+" },
        "implementation": "OPENQASM 3.1;\ninclude \"stdgates.inc\";\n@leqo.input 0\nqubit[3] addend0;\n@leqo.input 1\nqubit[2] addend1;\nqubit[4] sum;\nqubit[2] carry;\nccx addend0[0], addend1[0], carry[0];\ncx addend0[0], sum[0];\ncx addend1[0], sum[0];\nccx addend0[1], addend1[1], carry[1];\nccx carry[0], addend0[1], carry[1];\nccx carry[0], addend1[1], carry[1];\ncx addend0[1], sum[1];\ncx addend1[1], sum[1];\ncx carry[0], sum[1];\nccx carry[1], addend0[2], sum[3];\ncx addend0[2], sum[2];\ncx carry[1], sum[2];\n@leqo.output 0\nlet out = sum;",
        "metadata": { "width": 11, "depth": null }
      }
    ]
  }
insert_status: 200
merge_request: |
  {
    "metadata": {
      "version": "1.0.0",
      "name": "My Model",
      "description": "This is a model.",
      "author": ""
    },
    "nodes": [
      { "id": "newNode0", "type": "int", "value": 2, "bitSize": 2 },
      { "id": "newNode1", "type": "int", "value": 1, "bitSize": 1 },
      { "id": "newNode2", "type": "encode", "encoding": "amplitude" },
      { "id": "newNode3", "type": "encode", "encoding": "amplitude" },
      { "id": "newNode4", "type": "operator", "operator": "+" },
      { "id": "newNode5", "type": "measure", "indices": [0, 1, 2] }
    ],
    "edges": [
      {
        "source": ["newNode4", 0],
        "target": ["newNode5", 0],
        "identifier": null,
        "size": 1
      },
      {
        "source": ["newNode3", 0],
        "target": ["newNode4", 1],
        "identifier": null,
        "size": 1
      },
      {
        "source": ["newNode2", 0],
        "target": ["newNode4", 0],
        "identifier": null,
        "size": 1
      },
      { "source": ["newNode1", 0], "target": ["newNode3", 0] },
      { "source": ["newNode0", 0], "target": ["newNode2", 0] }
    ]
  }
merge_status: 200
merge_result: |
  OPENQASM 3.1;
  include "stdgates.inc";
  qubit[11] leqo_reg;
  /* Start node newNode0 */
  int[2] leqo_a802199cae985ea28977fed1a6977cfe_literal = 2;
  @leqo.output 0
  let leqo_a802199cae985ea28977fed1a6977cfe_out = leqo_a802199cae985ea28977fed1a6977cfe_literal;
  /* End node newNode0 */
  /* Start node newNode1 */
  int[1] leqo_15b97591d2d252d4932c57137d560388_literal = 1;
  @leqo.output 0
  let leqo_15b97591d2d252d4932c57137d560388_out = leqo_15b97591d2d252d4932c57137d560388_literal;
  /* End node newNode1 */
  /* Start node newNode2 */
  @leqo.input 0
  let leqo_44e2e1b30b905cfcac7970c851f892df_val = leqo_a802199cae985ea28977fed1a6977cfe_out;
  let leqo_44e2e1b30b905cfcac7970c851f892df_q = leqo_reg[{0, 1, 2}];
  x leqo_44e2e1b30b905cfcac7970c851f892df_q[0];
  @leqo.output 0
  let leqo_44e2e1b30b905cfcac7970c851f892df_out = leqo_44e2e1b30b905cfcac7970c851f892df_q;
  /* End node newNode2 */
  /* Start node newNode3 */
  @leqo.input 0
  let leqo_86fcd33a58435474a455551021ccead2_val = leqo_15b97591d2d252d4932c57137d560388_out;
  let leqo_86fcd33a58435474a455551021ccead2_q = leqo_reg[{3, 4}];
  x leqo_86fcd33a58435474a455551021ccead2_q[0];
  @leqo.output 0
  let leqo_86fcd33a58435474a455551021ccead2_out = leqo_86fcd33a58435474a455551021ccead2_q;
  /* End node newNode3 */
  /* Start node newNode4 */
  @leqo.input 0
  let leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0 = leqo_reg[{0, 1, 2}];
  @leqo.input 1
  let leqo_d67adc3fd7245579afa7dc4430b1b59b_addend1 = leqo_reg[{3, 4}];
  let leqo_d67adc3fd7245579afa7dc4430b1b59b_sum = leqo_reg[{5, 6, 7, 8}];
  let leqo_d67adc3fd7245579afa7dc4430b1b59b_carry = leqo_reg[{9, 10}];
  ccx leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0[0], leqo_d67adc3fd7245579afa7dc4430b1b59b_addend1[0], leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[0];
  cx leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0[0], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[0];
  cx leqo_d67adc3fd7245579afa7dc4430b1b59b_addend1[0], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[0];
  ccx leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_addend1[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[1];
  ccx leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[0], leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[1];
  ccx leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[0], leqo_d67adc3fd7245579afa7dc4430b1b59b_addend1[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[1];
  cx leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[1];
  cx leqo_d67adc3fd7245579afa7dc4430b1b59b_addend1[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[1];
  cx leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[0], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[1];
  ccx leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0[2], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[3];
  cx leqo_d67adc3fd7245579afa7dc4430b1b59b_addend0[2], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[2];
  cx leqo_d67adc3fd7245579afa7dc4430b1b59b_carry[1], leqo_d67adc3fd7245579afa7dc4430b1b59b_sum[2];
  @leqo.output 0
  let leqo_d67adc3fd7245579afa7dc4430b1b59b_out = leqo_d67adc3fd7245579afa7dc4430b1b59b_sum;
  /* End node newNode4 */
  /* Start node newNode5 */
  @leqo.input 0
  let leqo_9b2131a3791a54a0a2d2bfa278c28719_q = leqo_reg[{5, 6, 7, 8}];
  bit[3] leqo_9b2131a3791a54a0a2d2bfa278c28719_result = measure leqo_9b2131a3791a54a0a2d2bfa278c28719_q[{0, 1, 2}];
  @leqo.output 0
  let leqo_9b2131a3791a54a0a2d2bfa278c28719_out = leqo_9b2131a3791a54a0a2d2bfa278c28719_result;
  @leqo.output 1
  let leqo_9b2131a3791a54a0a2d2bfa278c28719_qubit_out = leqo_9b2131a3791a54a0a2d2bfa278c28719_q;
  /* End node newNode5 */
